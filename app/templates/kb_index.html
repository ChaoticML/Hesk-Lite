{% extends 'layout.html' %}
{% block title %}Kennisbank{% endblock %}

{% block content %}
    <div class="page-header">
        <h1>Kennisbank</h1>
        <a href="{{ url_for('kb.kb_create') }}" class="submit-button">Nieuw Artikel</a>
    </div>

    {% if grouped_articles %}
        <div class="kb-grid">
            {% for category, articles in grouped_articles.items() %}
                <div class="kb-category-card">
                    <div class="kb-card-header">
                        <span class="kb-card-icon">üìÅ</span>
                        <h2>{{ category }}</h2>
                        <span class="kb-article-count">{{ articles|length }} Artikel(en)</span>
                    </div>
                    <ul class="kb-article-list">
                        {% for article in articles %}
                            <li>
                                <a href="{{ url_for('kb.kb_article', article_id=article.id) }}">
                                    <span class="kb-article-icon">üìÑ</span>
                                    {{ article.title }}
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <h2>De Kennisbank is nog leeg</h2>
            <p>Documenteer oplossingen en procedures om uw team te helpen sneller te werken.</p>
            <a href="{{ url_for('kb.kb_create') }}" class="submit-button">Maak het eerste artikel aan</a>
        </div>
    {% endif %}
{% endblock %}